import{K as m,B as v}from"./index-bb9a6f22.js";var l={};function p(e){return e==="local"?localStorage:sessionStorage}function S(e,w,n){const o=(n==null?void 0:n.serializer)??JSON,d=(n==null?void 0:n.storage)??"local",a=typeof window<"u"&&typeof document<"u";function u(s,i){a&&p(d).setItem(s,o.stringify(i))}if(!l[e]){const s=v(w,r=>{const t=a?p(d).getItem(e):null;if(t&&r(o.parse(t)),a){const g=c=>{c.key===e&&r(c.newValue?o.parse(c.newValue):null)};return window.addEventListener("storage",g),()=>window.removeEventListener("storage",g)}}),{subscribe:i,set:f}=s;l[e]={set(r){u(e,r),f(r)},update(r){const t=r(m(s));u(e,t),f(t)},subscribe:i}}return l[e]}const E=S("preferences",{gdprAcceptedEmbedProviders:[]});export{E as p};

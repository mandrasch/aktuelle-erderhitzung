<script>
	// https://github.com/joshnuss/svelte-local-storage-store
	import { get } from 'svelte/store';
	import { preferences } from './../stores';
	async function resetPreferences() {
		// TODO: how to reset to defaults easily? function in stores?
		await preferences.set({ gdprAcceptedEmbedProviders: [] });
		// TODO: necessary?
		// window.location.reload();
	}
</script>

<div class="container container-gdpr">
	<p>
		Du hast der Nutzung folgender Dienste zugestimmt: {JSON.stringify(
			$preferences.gdprAcceptedEmbedProviders
		)}
	</p>
	<button class="outline" on:click={resetPreferences}>Datenschutz-Einstellungen zur√ºcksetzen</button
	>
</div>

<div class="container">Datenschutz | Impressum</div>

<style lang="scss">
	button {
		border: none;
	}

	.container-gdpr {
		text-align: center;
		p {
			margin-bottom: 5px;
		}
	}
</style>
